{"ast":null,"code":"var _jsxFileName = \"/Users/manhhaihust/Desktop/project44/Project-3/src/components/client/CartItem.js\";\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faShoppingBag, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport '../../css/client/Cartitem.css';\nimport { connect } from 'react-redux';\nimport { actCloseCartItem, actCheckoutClick } from '../../actions/index';\nimport QuantityAdjustment from '../../components/client/QuantityAdjustment';\nimport { Link, Redirect } from 'react-router-dom';\n\nclass CartItem extends Component {\n  constructor(pros) {\n    super(pros);\n\n    this.closeCartItem = () => {\n      this.props.closeCartItem();\n    };\n\n    this.totalPrice = cart => {\n      let totalPrice = null;\n      cart.forEach(element => {\n        totalPrice += element.product.price * element.quantity;\n      });\n      return totalPrice;\n    };\n\n    this.handleClick = e => {\n      e.preventDefault();\n      let user = JSON.parse(localStorage.getItem('user'));\n\n      if (user) {\n        this.setState({\n          isToken: true\n        });\n      } else {\n        this.props.onCheckoutClick();\n      }\n    };\n\n    this.state = {\n      isToken: false\n    };\n  }\n\n  render() {\n    if (this.state.isToken) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/checkout\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 20\n        }\n      });\n    }\n\n    let {\n      statusCartItem,\n      cart,\n      onAddToCart,\n      onDecreaseCart,\n      onDeleteCart\n    } = this.props;\n    let totalQuantity = null;\n    cart.forEach(element => {\n      totalQuantity += element.quantity;\n    });\n    let cartItems = cart.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.product._id,\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(QuantityAdjustment, {\n      type: \"cart\",\n      cartCurrently: item,\n      onAddToCart: onAddToCart,\n      onDecreaseCart: onDecreaseCart,\n      product: item.product,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.product.img,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, item.product.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"$\", item.product.price, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, item.quantity, \" pc(s)\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"$\", item.product.price * item.quantity), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      className: \"ml-4\",\n      onClick: () => onDeleteCart(item.product),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    })));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: statusCartItem === true ? \"cart-item c-show\" : \"cart-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      className: \"mr-2\",\n      icon: faShoppingBag,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }), totalQuantity > 0 ? totalQuantity : 0, \" \", totalQuantity < 2 ? 'item' : 'items'), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      className: \"close\",\n      onClick: this.closeCartItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, cart.length === 0 && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: \"15px\",\n        fontWeight: \"700\",\n        color: \"rgb(119, 121, 140)\",\n        display: \"block\",\n        width: \"100%\",\n        textAlign: \"center\",\n        padding: \"40px 0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 46\n      }\n    }, \"Not Products found\"), cartItems), /*#__PURE__*/React.createElement(Link, {\n      to: \"/checkout\",\n      className: cart.length === 0 ? \"footer disable-btn\" : \"footer\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: [cartItems.length === 0 ? 'rgb(0, 158, 127)' : '']\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, \"Checkout\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, \"$\", cart.length > 0 ? this.totalPrice(cart) : 0.00)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    statusCartItem: state.statusCartItem\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    closeCartItem: () => {\n      dispatch(actCloseCartItem());\n    },\n    onCheckoutClick: () => {\n      dispatch(actCheckoutClick());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartItem);","map":{"version":3,"sources":["/Users/manhhaihust/Desktop/project44/Project-3/src/components/client/CartItem.js"],"names":["React","Component","FontAwesomeIcon","faShoppingBag","faTimes","connect","actCloseCartItem","actCheckoutClick","QuantityAdjustment","Link","Redirect","CartItem","constructor","pros","closeCartItem","props","totalPrice","cart","forEach","element","product","price","quantity","handleClick","e","preventDefault","user","JSON","parse","localStorage","getItem","setState","isToken","onCheckoutClick","state","render","statusCartItem","onAddToCart","onDecreaseCart","onDeleteCart","totalQuantity","cartItems","map","item","_id","img","name","length","fontSize","fontWeight","color","display","width","textAlign","padding","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faShoppingBag, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport '../../css/client/Cartitem.css'\nimport { connect } from 'react-redux'\nimport { actCloseCartItem, actCheckoutClick } from '../../actions/index'\nimport QuantityAdjustment from '../../components/client/QuantityAdjustment'\nimport { Link, Redirect } from 'react-router-dom'\nclass CartItem extends Component {\n    constructor(pros) {\n        super(pros)\n        this.state = {\n            isToken: false\n        }\n    }\n\n    closeCartItem = () => {\n        this.props.closeCartItem()\n    }\n\n    totalPrice = (cart) => {\n        let totalPrice = null\n        cart.forEach(element => {\n            totalPrice += element.product.price * element.quantity\n        });\n        return totalPrice\n    }\n\n    handleClick = (e) => {\n        e.preventDefault()\n        let user = JSON.parse(localStorage.getItem('user'))\n        if (user) {\n            this.setState({\n                isToken: true\n            })\n        }\n        else {\n            this.props.onCheckoutClick()\n        }\n    }\n\n    render() {\n        if (this.state.isToken) {\n            return <Redirect to=\"/checkout\" />\n        }\n        let { statusCartItem, cart, onAddToCart, onDecreaseCart, onDeleteCart } = this.props\n        let totalQuantity = null\n        cart.forEach(element => {\n            totalQuantity += element.quantity\n        });\n        let cartItems = cart.map(item =>\n            <div key={item.product._id} className=\"item\">\n                <QuantityAdjustment type=\"cart\" cartCurrently={item} onAddToCart={onAddToCart} onDecreaseCart={onDecreaseCart} product={item.product} />\n                <div className=\"img\">\n                    <img src={item.product.img} alt=\"\" />\n                </div>\n                <div className=\"info\">\n                    <div className=\"title\">{item.product.name}</div>\n                    <div className=\"price\">${item.product.price} </div>\n                    <div className=\"quantity\">{item.quantity} pc(s)</div>\n                </div>\n                <div className=\"total-price\">${item.product.price * item.quantity}</div>\n                <FontAwesomeIcon icon={faTimes} className=\"ml-4\" onClick={() => onDeleteCart(item.product)} />\n            </div>\n        )\n        return (\n            <div className={statusCartItem === true ? \"cart-item c-show\" : \"cart-item\"}>\n                <div className=\"header\">\n                    <div className=\"item-amount\">\n                        <FontAwesomeIcon className=\"mr-2\" icon={faShoppingBag} />\n                        {totalQuantity > 0 ? totalQuantity : 0} {totalQuantity < 2 ? 'item' : 'items'}\n                    </div>\n                    <FontAwesomeIcon icon={faTimes} className=\"close\" onClick={this.closeCartItem} />\n                </div>\n                <div className=\"body\">\n                    {\n                        cart.length === 0 && <span style={{\n                            fontSize: \"15px\",\n                            fontWeight: \"700\",\n                            color: \"rgb(119, 121, 140)\",\n                            display: \"block\",\n                            width: \"100%\",\n                            textAlign: \"center\",\n                            padding: \"40px 0px\"\n                        }}>\n                            Not Products found</span>\n                    }\n                    {cartItems}\n                </div>\n                <Link to=\"/checkout\" className={cart.length === 0 ? \"footer disable-btn\" : \"footer\"} onClick={this.handleClick}>\n                    <span style={{\n                        color: [cartItems.length === 0 ? 'rgb(0, 158, 127)' : '']\n                    }}>Checkout</span>\n                    <div className=\"total\">\n                        ${cart.length > 0 ? this.totalPrice(cart) : 0.00}\n                    </div>\n                </Link>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        statusCartItem: state.statusCartItem\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        closeCartItem: () => {\n            dispatch(actCloseCartItem())\n        },\n        onCheckoutClick: () => {\n            dispatch(actCheckoutClick())\n        }\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(CartItem)"]},"metadata":{},"sourceType":"module"}