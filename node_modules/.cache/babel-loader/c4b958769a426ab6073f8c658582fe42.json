{"ast":null,"code":"var _jsxFileName = \"/Users/manhhaihust/Desktop/project44/Project-3/src/pages/admin/AdminLogin.js\";\nimport React, { Component } from 'react';\nimport { Form, FormGroup, Input, Label, Button } from 'reactstrap';\nimport { Redirect } from 'react-router-dom';\nimport '../../css/admin/AdminLogin.css';\nimport callApi from '../../utils/apiCaller';\n\nclass AdminLogin extends Component {\n  constructor(pros) {\n    super(pros);\n\n    this.validate = (usename, password) => {\n      let usernameError = '';\n      let passwordError = '';\n\n      if (!usename) {\n        usernameError = 'The Username field is required.';\n      }\n\n      if (!password) {\n        passwordError = 'The Password field is required.';\n      }\n\n      if (usernameError || passwordError) {\n        this.setState({\n          usernameError: usernameError,\n          passwordErr: passwordError\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.onHandleChange = e => {\n      let target = e.target;\n      let name = target.name;\n      let value = target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      let {\n        username,\n        password\n      } = this.state;\n      let isValidate = this.validate(username, password);\n\n      if (isValidate) {\n        let account = {\n          username,\n          password\n        }; // // this.props.onLogin(account)\n        // callApi('api/auth/sign-in', 'POST', account).then(res => {\n        //     this.props.onLogin(res.data) // res.data = user\n        //     this.props.onCloseModal()\n        // }).catch(error => this.setState({\n        //     err: error.response.data.message\n        // }))\n\n        const res = await callApi('api/admin/sign-in', 'POST', account);\n\n        if (res) {\n          let admin = res.data;\n          let adminToken = admin.accessToken;\n          localStorage.setItem('adminToken', adminToken);\n          this.setState({\n            isLogin: true\n          });\n        }\n      }\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      emailErr: '',\n      passwordErr: '',\n      err: '',\n      isLogin: false\n    };\n  }\n\n  render() {\n    if (this.state.isLogin) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/admin/products\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 20\n        }\n      });\n    }\n\n    let {\n      email,\n      password,\n      usernameError,\n      passwordErr,\n      err\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"AdminLogin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Authform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"logo-img\",\n      src: \"https://i.imgur.com/YpLMnmW.png\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, \"Login to Admin\")), err && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"rgb(97, 26, 21)\",\n        backgroundColor: \"rgb(253, 236, 234)\",\n        textAlign: \"center\",\n        padding: \"15px\",\n        borderRadius: \"4px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, err), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"username\",\n      id: \"Username\",\n      placeholder: \"EX: admin123\",\n      value: email,\n      onChange: this.onHandleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }), usernameError && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"validation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 47\n      }\n    }, usernameError)), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      id: \"Password\",\n      placeholder: \"EX: admin123\",\n      value: password,\n      onChange: this.onHandleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }), passwordErr && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"validation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 45\n      }\n    }, passwordErr)), /*#__PURE__*/React.createElement(Button, {\n      size: \"lg\",\n      block: true,\n      type: \"submit\",\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, \"Continue\"))));\n  }\n\n}\n\nexport default AdminLogin;","map":{"version":3,"sources":["/Users/manhhaihust/Desktop/project44/Project-3/src/pages/admin/AdminLogin.js"],"names":["React","Component","Form","FormGroup","Input","Label","Button","Redirect","callApi","AdminLogin","constructor","pros","validate","usename","password","usernameError","passwordError","setState","passwordErr","onHandleChange","e","target","name","value","onSubmit","preventDefault","username","state","isValidate","account","res","admin","data","adminToken","accessToken","localStorage","setItem","isLogin","emailErr","err","render","email","color","backgroundColor","textAlign","padding","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {\n    Form,\n    FormGroup,\n    Input,\n    Label,\n    Button\n} from 'reactstrap';\nimport { Redirect } from 'react-router-dom'\nimport '../../css/admin/AdminLogin.css'\nimport callApi from '../../utils/apiCaller'\n\nclass AdminLogin extends Component {\n    constructor(pros) {\n        super(pros)\n        this.state = {\n            username: '',\n            password: '',\n            emailErr: '',\n            passwordErr: '',\n            err: '',\n            isLogin: false\n        }\n    }\n\n    validate = (usename, password) => {\n        let usernameError = '';\n        let passwordError = '';\n\n        if (!usename) {\n            usernameError = 'The Username field is required.'\n        }\n        if (!password) {\n            passwordError = 'The Password field is required.'\n        }\n\n        if (usernameError || passwordError) {\n            this.setState({\n                usernameError: usernameError,\n                passwordErr: passwordError\n            })\n            return false;\n        }\n        return true;\n    }\n\n    onHandleChange = (e) => {\n        let target = e.target\n        let name = target.name\n        let value = target.value\n        this.setState({\n            [name]: value\n        })\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault()\n        let { username, password } = this.state\n        let isValidate = this.validate(username, password)\n        if (isValidate) {\n            let account = {\n                username,\n                password\n            }\n            // // this.props.onLogin(account)\n            // callApi('api/auth/sign-in', 'POST', account).then(res => {\n            //     this.props.onLogin(res.data) // res.data = user\n            //     this.props.onCloseModal()\n\n            // }).catch(error => this.setState({\n            //     err: error.response.data.message\n            // }))\n            const res = await callApi('api/admin/sign-in', 'POST', account)\n            if (res) {\n                let admin = res.data\n                let adminToken = admin.accessToken\n                localStorage.setItem('adminToken', adminToken)\n                this.setState({\n                    isLogin: true\n                })\n            }\n        }\n    }\n\n    render() {\n        if (this.state.isLogin) {\n            return <Redirect to=\"/admin/products\" />\n        }\n        let { email, password, usernameError, passwordErr, err } = this.state\n        return (\n            <div className=\"AdminLogin\">\n                <div className=\"Authform\">\n                    <div className='header'>\n                        <img className=\"logo-img\" src=\"https://i.imgur.com/YpLMnmW.png\" alt=\"\" />\n                        <p>Login to Admin</p>\n                    </div>\n                    {err && <div style={{\n                        color: \"rgb(97, 26, 21)\",\n                        backgroundColor: \"rgb(253, 236, 234)\",\n                        textAlign: \"center\",\n                        padding: \"15px\",\n                        borderRadius: \"4px\"\n                    }}>{err}</div>}\n                    <Form onSubmit={this.onSubmit}>\n                        <FormGroup>\n                            <Label for=\"Username\">Username</Label>\n                            <Input type=\"text\" name=\"username\" id=\"Username\" placeholder=\"EX: admin123\" value={email} onChange={this.onHandleChange} />\n                            {usernameError && <div className=\"validation\">{usernameError}</div>}\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"Password\">Password</Label>\n                            <Input type=\"password\" name=\"password\" id=\"Password\" placeholder=\"EX: admin123\" value={password} onChange={this.onHandleChange} />\n                            {passwordErr && <div className=\"validation\">{passwordErr}</div>}\n                        </FormGroup>\n                        <Button size=\"lg\" block type=\"submit\" className=\"btn\">Continue</Button>\n                    </Form>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AdminLogin"]},"metadata":{},"sourceType":"module"}